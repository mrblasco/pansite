<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="W. Caleb McDaniel" />

<meta name="date" content="2013-03-21" />

<title>Turning Gmail into Google Reader</title>

<script src="turning-gmail-into-google-reader_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="turning-gmail-into-google-reader_files/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="turning-gmail-into-google-reader_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="turning-gmail-into-google-reader_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="turning-gmail-into-google-reader_files/bootstrap-3.3.5/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="turning-gmail-into-google-reader_files/highlight/textmate.css"
      type="text/css" />
<script src="turning-gmail-into-google-reader_files/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="turning-gmail-into-google-reader_files/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->





<!--Begin contents of _navigation.html which are inserted using the include-before-body option in pandoc.-->
<div class="header">
        <ul class= "nav nav-pills pull-right">
            <li class="hidden-phone"><a href="./cv.html">CV</a></li>
            <li class="hidden-phone"><a href="./research.html">Research/</a></li>
            <li class="hidden-phone"><a href="./teaching.html">Teaching/</a></li>
            <li class="hidden-phone"><a href="./hacks.html">Hacks/</a></li>
			<li class="visible-phone"><a href="./index.html#site-map">&larr; Site Map</a></li>
			<li><a href="index.html"><img src="./photo.jpg" class="pull-left"></a></li>
        </ul>
</div>

<!--End contents of _navigation.html which are inserted using the include-before-body option in pandoc.-->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Turning Gmail into Google Reader</h1>
<h4 class="author"><em>W. Caleb McDaniel</em></h4>
<h4 class="date"><em>March 21, 2013</em></h4>

</div>


<p>In 2005, Karthikeyan Sankaralingam wrote a webpage about using <a href="http://www.cs.utexas.edu/~karu/gmailrss/">Gmail as an RSS reader</a>. It ended with this note: “I am fully aware when/if Google releases a true RSS reader—this tool may become obsolete.”</p>
<p>Well, it’s 2013, and Google has in fact released a true RSS reader. But now it, too, is about to be <a href="http://googleblog.blogspot.com/2013/03/a-second-spring-of-cleaning.html">obsolete</a>. Like the rest of geekdom, I’ve been mulling over what to do once Google Reader is dead, and yesterday I put together a solution not so different from the one Sankaralingam set up nearly a decade ago.</p>
<p>The short version: I’m using a script called <a href="http://www.allthingsrss.com/rss2email/">rss2email</a> to send items from RSS feeds to my Gmail account. Each item is automatically given a dedicated “feeds” label and moved out of my inbox, where it can wait for me to view it later. A little searching reveals that I’m <a href="http://blog.triumphovermadness.com/2013/03/hooray-i-dont-need-google-reader.html">not the only one</a> doing this, but since the documentation for <code>rss2email</code> is not the best, I thought someone else might be interested in the longer version.</p>
<p>A disclaimer is in order, however. I’ve tried to spell out the steps I took to set this up on my system as completely as possible. But I’m aware that replicating it on every system might not be possible. I haven’t thought through every potential pitfall that might need troubleshooting, so proceed only if you are somewhat comfortable at the command line in a Unix/Linux environment.</p>
<div id="the-final-product" class="section level2">
<h2>The Final Product</h2>
<p>Before explaning how I have set things up, let’s take a look at the final product:</p>
<div class="figure">
<img src="./gmail-feeds.jpg" alt="Click here to enlarge." />
<p class="caption">Click <a href="./gmail-feeds.jpg">here</a> to enlarge.</p>
</div>
<p>Looks a lot like Google Reader, doesn’t it? But it’s actually just a bunch of email messages in my Gmail account that are all labeled “feeds.” And here’s what the “feeds” page looks like in the Gmail app for iOS:</p>
<center>
<br> <img src="./gmail-feeds-ios.jpg" width=50%> <br> <br>
</center>
<p>As you can see, each email with a “feeds” label is actually an RSS item: the title of the feed is listed as the sender of the message, and the title of the feed item is the subject line of the email. All of this is automated so that to read my feeds, I simply log into Gmail in my browser or iOS app and click on the “feeds” label.</p>
<p>If you’re still interested, read on for instructions. If you’re not sure whether to be interested or not, you can jump to <a href="#why-gmail">my reasons for doing this</a>.</p>
</div>
<div id="howto" class="section level2">
<h2>HOWTO</h2>
<div id="preparing-your-google-setup" class="section level3">
<h3>Preparing your Google Setup</h3>
<p>If you are transitioning from Google Reader, like I am, you’ll want to head to <a href="http://www.google.com/takeout/">Google Takeout</a> and download an archive of your Google Reader data. After you finish the download, you’ll have a folder on your computer with a title like <code>username@gmail.com-takeout</code>. The file you need from this folder is one called <code>subscriptions.xml</code>.</p>
<p>Now head over to your Gmail inbox and <a href="http://support.google.com/mail/answer/118708?hl=en">create a new label</a> called “feeds.” Then, under your Gmail settings, <a href="http://support.google.com/mail/answer/6579?hl=en">create a new filter</a> that directs any incoming mail to the address <code>yourusername+feeds@gmail.com</code> to be immediately archived so that your RSS feeds don’t clog up your Inbox.</p>
</div>
<div id="installing-rss2email" class="section level3">
<h3>Installing rss2email</h3>
<p>The heavy lifting for this set up is all done by a little Python program called <code>rss2email</code>, which was apparently developed originally by the late <a href="http://www.aaronsw.com/weblog/001148">Aaron Swartz</a>. The next thing to do is install it. (The remainder of this page assumes you have a Unix-based machine like a Mac or a Linux box, though I believe the program will work on Windows, too.)</p>
<p>First, check to make sure you have Python installed. In your Terminal, type:</p>
<pre><code>python --version</code></pre>
<p>If the output shows that you have some version of Python 2.x, then you are good to go.</p>
<p>There are multiple ways to install different versions of <code>rss2email</code>, but be aware that:</p>
<ol style="list-style-type: decimal">
<li>Some of the earliest versions that show up in Linux package managers don’t have important features like the ability to import or export an XML list of feed subscriptions; and</li>
<li>The <a href="http://github.com/wking/rss2email">most recent development version</a> maintained by W. Trevor King requires Python 3, which you may not have or want.</li>
</ol>
<p>For these reasons, I decided to install <a href="http://github.com/turbodog/rss2email">an older version released by Lindsey Smith</a> and still available on Github. To do this yourself, first head to the Terminal and make sure you have <code>git</code> installed by typing:</p>
<pre><code>git --version</code></pre>
<p>If you get a version number in return, then you can head straight to installing <code>rss2email</code> into its own folder in your home directory (or wherever else you choose) like this:</p>
<pre><code>cd ~
git clone https://github.com/turbodog/rss2email.git
cd rss2email
chmod a+x r2e</code></pre>
<p>The last line makes the script you will use to run <code>rss2email</code> executable. You may need to type <code>sudo</code> at the start of the command to invoke the requisite privileges.</p>
<p>Also, note that having git isn’t essential to the installation process. You can also go to the Github repository and download all the files you need manually, but you’ll still need to open the Terminal, navigate to the <code>rss2email</code> directory, and make the <code>r2e</code> script executable with a <code>chmod</code> command.</p>
</div>
<div id="configuring-rss2email" class="section level3">
<h3>Configuring rss2email</h3>
<p>Within the <code>rss2email</code> directory that now exists on your computer, you’ll find an example configuration file that you should copy:</p>
<pre><code>cp config.py.example config.py</code></pre>
<p>Now you’ll want to edit the <code>config.py</code> file in the text editor of your choice, making alterations to the following lines:</p>
<pre><code># The email address messages are from by default:
DEFAULT_FROM = &quot;bozo@dev.null.invalid&quot;</code></pre>
<p>Change the “bozo” email address to a dummy address of your choice. You can even use a real email address of your own, but one piece of advice: <strong>don’t put your Gmail address here</strong>. If you do, then Gmail will get upset later when your RSS items show up in your inbox appearing to come from your Gmail account, but without authentication.</p>
<p>I also chose the following settings, which are different from the default:</p>
<pre><code># 1: Only use the DEFAULT_FROM address.
# 0: Use the email address specified by the feed, when possible.
FORCE_FROM = 1

# 1: Use SMTP_SERVER to send mail.
# 0: Call /usr/sbin/sendmail to send mail.
SMTP_SEND = 0</code></pre>
<p>If you change the <code>SMTP_SEND</code> setting to 0, then make sure you have <code>sendmail</code> installed first by typing this at the command line:</p>
<pre><code>which sendmail</code></pre>
<p>If you instead use SMTP_SERVER, you’ll need to fill in your SMTP server details in the config file. But <code>sendmail</code> appears to work fine for me.</p>
<p>Once you’ve made these changes, save the configuration file.</p>
</div>
<div id="starting-rss2email" class="section level3">
<h3>Starting rss2email</h3>
<p>You should still be in the <code>rss2email</code> directory in your Terminal, but make sure with a <code>pwd</code> command. Next you’ll need to create a new feed list for <code>rss2email</code>. Do this with a slightly modified version of your Gmail address:</p>
<pre><code>./r2e new yourusername+feeds@gmail.com</code></pre>
<p>Now you’ll want to import all of your feeds from Google Reader into this account.</p>
<pre><code>./r2e opmlimport /path/to/subscriptions.xml</code></pre>
<p>If that works, you should see output at the command line listing all the subscriptions that were added. Next, you’ll run <code>rss2email</code> for the first time, but without sending any items to Gmail.</p>
<pre><code>./r2e run --no-send</code></pre>
<p>At this point, everything should be set up and ready to go. But to test things out, keep using Google Reader in your web browser until you <em>know</em> that new items have appeared in your feeds since the time you ran the above command. Once you have new items, go back to the command line and run the script again:</p>
<pre><code>./r2e run</code></pre>
<p>If all is well, this should send the new items to your Gmail address, labeling each item “feeds” and moving the messages out of your inbox. If these messages don’t quickly show up in Gmail, try checking your Spam folder. You may have to tell Gmail that these messages arriving from the dummy address you invented in your <code>config.py</code> file are not spam. If you don’t even see the messages in Spam, <a href="http://scratching.psybermonkey.net/2011/03/sendmail-how-to-test-sending-email.html">make sure sendmail works</a>. If it does, try troubleshooting on the <a href="http://www.allthingsrss.com/rss2email/">rss2email homepage</a> or <a href="http://dir.gmane.org/gmane.mail.rss2email">rss2email mailing list</a>.</p>
</div>
<div id="managing-feeds" class="section level3">
<h3>Managing Feeds</h3>
<p>Adding new subscriptions to your feed list is as easy as this command, from within your <code>rss2email</code> directory:</p>
<pre><code>./r2e add http://www.example.com/feed/</code></pre>
<p>And if you tire of using this program, getting all of your subscriptions out is also a cinch:</p>
<pre><code>./r2e opmlexport &gt; subscriptions.xml</code></pre>
<p>One disadvantage of Gmail over Reader is that you may not find it as easy to organize your feeds by tags, but you can use Gmail labels to approximate this feature. Once you’ve added a new feed, just create a new filter in Gmail that labels all the messages that have a particular feed’s title in the “From:” field.</p>
</div>
<div id="sharing-feed-items" class="section level3">
<h3>Sharing Feed Items</h3>
<p>One of the nice things about Google Reader and its many affiliated apps was the ease with which items could be shared with other bookmarking and blogging services.</p>
<p>Fortunately, <a href="http://pinboard.in/howto/#post_by_mail">Pinboard</a>, <a href="http://www.instapaper.com/extras">Instapaper</a>, <a href="http://www.tumblr.com/docs/en/email_publishing#can">Tumblr</a>, and many other sites allow you to post or save by email using dedicated addresses. Once you have added these special email addresses to your Google Contacts, you will be able to forward items directly to these popular services. After all, you will already be in Gmail just looking at a message; “Fwd:” For the Win!</p>
</div>
<div id="automated-checking" class="section level3">
<h3>Automated Checking</h3>
<p>By default, <code>rss2email</code> checks for new items in your feeds whenever you run:</p>
<pre><code>./r2e run</code></pre>
<p>But it would be a drag to have to type this command every time you wanted to check your feeds. Fortunately, on Mac OS X, you can use a program called <code>launchd</code> to run specific commands at scheduled times. Most Unix systems also have a program called <code>cron</code> that does the same thing in a different way.</p>
<p>I’m not a heavy user of these services, but I figured out most of what I needed to know from tutorials by <a href="http://nathangrigg.net/2012/07/schedule-jobs-using-launchd/">Nathan Grigg</a> and <a href="http://kvz.io/blog/2007/07/29/schedule-tasks-on-linux-using-crontab/">Kevin van Zonnevelt</a>. I initially set up this system using <code>launchd</code> on my Mac, but then decided instead to run <code>rss2email</code> from a Linux virtual machine with <code>cron</code>. The advantage here is that the VM is always on and can check my RSS feeds periodically whether my personal computer is running or not, allowing me to keep tabs on feeds from my iPhone or iPad even if I haven’t turned my laptop on in a while.</p>
<p>One potential speed bump when automating <code>rss2email</code> is the fact that the script which controls it needs to be run from the <code>rss2email</code> directory, which may not be in your system <code>PATH</code>. An easy fix is to edit the <code>r2e</code> bash script, adding a line at the top that changes the directory to correct folder. In other words, change the <code>r2e</code> script from this:</p>
<pre><code>#!/bin/sh
python rss2email.py feeds.dat $*</code></pre>
<p>To this:</p>
<pre><code>#!/bin/sh
cd path/to/rss2email
python rss2email.py feeds.dat $*</code></pre>
<p>Then make sure that you declare the full path to <code>r2e</code> when making your crontab or launchd plist file.</p>
</div>
</div>
<div id="why-gmail" class="section level2">
<h2>Why Gmail</h2>
<p>I’ve covered the basics of how I’m turning Gmail into (a version of) Google Reader, but there may be an even more basic question: <em>Why?</em></p>
<p>For starters, this alternative to Google Reader is free. I won’t add any new costs by managing RSS this way.</p>
<p>I realize that some might say that my desire to keep reading RSS feeds for free is part of the problem that led to Reader’s downfall. I’ve seen several people on the Interwebs urging users to pony up money to RSS services so that they won’t go under. Isn’t Readergate what happens when people refuse to pay?</p>
<p>Maybe, but I’m willing to bet Gmail is not going anywhere soon. And like <a href="http://www.marco.org/2013/03/19/free-works">Marco Arment</a>, I’m not sure the logic of the “free-is-bad” movement holds up in this case. As he points out, the real threats to software access are “proprietary monocultures” like Facebook; it’s the closed nature of the software that makes it vulnerable to disappearance, not the free cost. And RSS (Really Simple Syndication) is simple enough that it shouldn’t require fancy, expensive software to make it work reasonably well. In fact, after setting up this system I gained a new perspective on Google’s decision to shutter Reader: it really added very little functionality that Gmail and a free python script couldn’t replicate. (I’m more worried by the possible death of Google Scholar, which doesn’t seem as easy to reproduce.)</p>
<p>Meanwhile, by sticking with Gmail, instead of trying out one of the <a href="http://reviews.cnet.com/8301-19512_7-57574201-233/google-reader-is-dying-but-we-have-five-worthy-alternatives/">many</a> <a href="http://lifehacker.com/5990456/google-reader-is-getting-shut-down-here-are-the-best-alternatives">other</a> <a href="http://bryanalexander.org/2013/03/14/going-beyond-google-reader-rip/">alternatives</a> to Google Reader now coming to the fore, I will be staying in an already comfortable environment with <a href="http://support.google.com/mail/answer/6594?hl=en">familiar keyboard shortcuts</a>, plenty of storage space, and excellent search.</p>
<p>Finally, for all its alleged faults, Google is not beset by the number one problem that seems to be facing other RSS websites suddenly swamped with new users: lack of server space. I can be fairly confident Gmail will run just as quickly on my computer and mobile devices as Google Reader did, and since I’m the only one using my VM to check for RSS updates, I can set <code>cron</code> to check my subscriptions as often as I want without worrying about overall performance.</p>
<p>Those, at least, are enough reasons for me to try this method for the time being. Whether it will stick, time will tell.</p>
</div>

<!--Begin contents of _footer.html which are inserted using the include-after-body option in pandoc.-->

<!--Footer-->

<footer>

		<ul class="nav nav-pills pull-right hidden-phone">
            <li class="transparent"><script type="text/javascript">
			<!--
			h='&#114;&#x69;&#x63;&#x65;&#46;&#x65;&#100;&#x75;';a='&#64;';n='&#x63;&#x61;&#108;&#x65;&#98;#46;&#x6d;&#x63;&#100;&#x61;&#110;&#x69;&#x65;&#108;';e=n+a+h;
			document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+'<img src='+'"./img/glyph_em'+'ail.png"'+'>'+'<\/'+'a'+'>');
			// -->
			</script><noscript>&#x63;&#x61;&#108;&#x65;&#98;&#46;&#x6d;&#x63;&#100;&#x61;&#110;&#x69;&#x65;&#108;&#32;&#x61;&#116;&#32;&#114;&#x69;&#x63;&#x65;&#32;&#100;&#x6f;&#116;&#32;&#x65;&#100;&#x75;</noscript>
			</li>
			<li class="transparent"><a href="http://www.twitter.com/wcaleb" title="My Twitter feed" class="transparent"><img src="./img/glyph_twitter.png"></a></li>
			<li class="transparent"><a href="http://pinboard.in/u:wcaleb" title="My Pinboard"><img src="./img/glyph_pinboard.png"></a></li>
			<li class="transparent"><a href="http://clippings.tumblr.com" title="My Tumblr blog, Clippings"><img src="./img/glyph_tumblr.png"></a></li>
			<li class="transparent"><a href="http://github.com/wcaleb" title="My Github repos"><img src="./img/glyph_github.png"></a></li>
		</ul>

<ul class="nobullet">
<li><a href="colophon.html">Colophon/</a></li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">License/</a></li>
<li><a href="./feed.xml">RSS/</a></li>
<li class="visible-phone"><a href="./index.html#contact">Contact/</a></li>
</ul>

</footer>

<!--Statcounter-->

<script type="text/javascript">
var sc_project=2874620; 
var sc_invisible=0; 
var sc_partition=29; 
var sc_security="cc89e61f"; 
</script>

<script type="text/javascript" src="http://www.statcounter.com/counter/counter_xhtml.js"></script>

<noscript><div class="statcounter"><a class="statcounter" href="http://www.statcounter.com/"><img class="statcounter" src="http://c30.statcounter.com/2874620/0/cc89e61f/0/" alt="invisible hit counter" /></a></div></noscript>

<!--End contents of _footer.html which are inserted using the include-after-body option in pandoc.-->



</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
